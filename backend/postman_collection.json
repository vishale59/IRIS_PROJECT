{
  "info": {
    "name": "IRIS API Collection",
    "description": "Ready-to-import Postman collection for IRIS backend APIs.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:5000" },
    { "key": "token", "value": "" },
    { "key": "job_id", "value": "1" },
    { "key": "application_id", "value": "1" },
    { "key": "user_id", "value": "1" }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/auth/register",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Employer One\",\n  \"email\": \"employer@iris.com\",\n  \"password\": \"StrongPass@123\",\n  \"role\": \"employer\"\n}"
            }
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{baseUrl}}/api/auth/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"employer@iris.com\",\n  \"password\": \"StrongPass@123\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Jobs",
      "item": [
        {
          "name": "Create Job",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{baseUrl}}/api/jobs",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Python Backend Developer\",\n  \"description\": \"Build Flask APIs and optimize SQL queries\",\n  \"location\": \"Bangalore\",\n  \"required_skills\": [\"python\", \"flask\", \"mysql\", \"sql\"]\n}"
            }
          }
        },
        { "name": "List Jobs", "request": { "method": "GET", "url": "{{baseUrl}}/api/jobs" } },
        {
          "name": "Update Job",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{baseUrl}}/api/jobs/{{job_id}}",
            "body": { "mode": "raw", "raw": "{\n  \"location\": \"Hyderabad\"\n}" }
          }
        },
        {
          "name": "Delete Job",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/jobs/{{job_id}}"
          }
        },
        {
          "name": "View Applicants",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/jobs/{{job_id}}/applicants"
          }
        }
      ]
    },
    {
      "name": "Resume",
      "item": [
        {
          "name": "Upload Resume",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/resumes/upload",
            "body": {
              "mode": "formdata",
              "formdata": [{ "key": "file", "type": "file", "src": "" }]
            }
          }
        },
        {
          "name": "My Resume",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/resumes/me"
          }
        }
      ]
    },
    {
      "name": "Applications",
      "item": [
        {
          "name": "Apply Job",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{baseUrl}}/api/applications",
            "body": { "mode": "raw", "raw": "{\n  \"job_id\": {{job_id}}\n}" }
          }
        },
        {
          "name": "Update Application Status",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{baseUrl}}/api/applications/{{application_id}}/status",
            "body": { "mode": "raw", "raw": "{\n  \"status\": \"Shortlisted\"\n}" }
          }
        },
        {
          "name": "My Applications",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/applications/me"
          }
        }
      ]
    },
    {
      "name": "Dashboard",
      "item": [
        {
          "name": "Dashboard Summary",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/dashboard"
          }
        },
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/dashboard/users"
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/dashboard/users/{{user_id}}"
          }
        },
        {
          "name": "Analytics",
          "request": {
            "method": "GET",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{baseUrl}}/api/dashboard/analytics"
          }
        }
      ]
    }
  ]
}